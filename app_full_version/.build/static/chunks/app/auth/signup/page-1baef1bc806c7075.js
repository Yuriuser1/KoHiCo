(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{3231:function(e,s,t){Promise.resolve().then(t.bind(t,3524))},3524:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var a=t(5444),r=t(9300),l=t(9047),i=t(5762),n=t(1084),d=t(4693),c=t(5798),o=t(8510),m=t(1059),u=t(2429),f=t(8082);let x=(0,t(2154).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var p=t(2422),h=t(4678),y=t(4635),N=t(9827),v=t(6863),g=t(4611);function j(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[b,k]=(0,r.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),[Z,C]=(0,r.useState)({});(0,r.useEffect)(()=>{(0,i.getSession)().then(s=>{s&&e.push("/")})},[e]);let P=()=>{let e={};return b.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)||(e.email="Некорректный email"):e.email="Email обязателен",b.password?b.password.length<6&&(e.password="Пароль должен содержать минимум 6 символов"):e.password="Пароль обязателен",b.password!==b.confirmPassword&&(e.confirmPassword="Пароли не совпадают"),b.firstName.trim()||(e.firstName="Имя обязательно"),b.lastName.trim()||(e.lastName="Фамилия обязательна"),C(e),0===Object.keys(e).length},_=async s=>{if(s.preventDefault(),P()){t(!0);try{let s=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b.email,password:b.password,firstName:b.firstName.trim(),lastName:b.lastName.trim(),phone:b.phone.trim()||void 0})}),t=await s.json();if(!s.ok)throw Error(t.error||"Произошла ошибка при регистрации");g.ZP.success("Регистрация прошла успешно!");let a=await (0,i.signIn)("credentials",{email:b.email,password:b.password,redirect:!1});a?.ok&&e.push("/")}catch(e){console.error("Signup error:",e),g.ZP.error(e.message||"Произошла ошибка при регистрации")}finally{t(!1)}}},M=e=>{let{name:s,value:t}=e.target;k(e=>({...e,[s]:t})),Z[s]&&C(e=>({...e,[s]:""}))};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-rose-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Создать аккаунт"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Присоединяйтесь к KoHiCo уже сегодня"})]}),(0,a.jsxs)(N.Zb,{className:"shadow-xl border-0",children:[(0,a.jsxs)(N.Ol,{className:"space-y-1",children:[(0,a.jsx)(N.ll,{className:"text-2xl font-bold text-center",children:"Регистрация"}),(0,a.jsx)(N.SZ,{className:"text-center",children:"Заполните форму для создания нового аккаунта"})]}),(0,a.jsxs)(N.aY,{children:[(0,a.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"firstName",children:"Имя"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(h.I,{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,placeholder:"Иван",value:b.firstName,onChange:M,className:"pl-10",disabled:s})]}),Z.firstName&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:Z.firstName})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"lastName",children:"Фамилия"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(h.I,{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,placeholder:"Петров",value:b.lastName,onChange:M,className:"pl-10",disabled:s})]}),Z.lastName&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:Z.lastName})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"email",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(h.I,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"your@email.com",value:b.email,onChange:M,className:"pl-10",disabled:s})]}),Z.email&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:Z.email})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"phone",children:"Телефон (необязательно)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(h.I,{id:"phone",name:"phone",type:"tel",autoComplete:"tel",placeholder:"+7 (900) 123-45-67",value:b.phone,onChange:M,className:"pl-10",disabled:s})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"password",children:"Пароль"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(h.I,{id:"password",name:"password",type:j?"text":"password",autoComplete:"new-password",required:!0,placeholder:"Минимум 6 символов",value:b.password,onChange:M,className:"pl-10 pr-10",disabled:s}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>w(!j),disabled:s,children:j?(0,a.jsx)(u.Z,{className:"h-4 w-4"}):(0,a.jsx)(f.Z,{className:"h-4 w-4"})})]}),Z.password&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:Z.password})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"confirmPassword",children:"Подтвердите пароль"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(h.I,{id:"confirmPassword",name:"confirmPassword",type:j?"text":"password",autoComplete:"new-password",required:!0,placeholder:"Повторите пароль",value:b.confirmPassword,onChange:M,className:"pl-10",disabled:s})]}),Z.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:Z.confirmPassword})]}),(0,a.jsx)(p.z,{type:"submit",className:"w-full",disabled:s,size:"lg",children:s?(0,a.jsx)(v.g,{size:"sm",text:"Регистрирую..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{className:"w-4 h-4 mr-2"}),"Создать аккаунт"]})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Уже есть аккаунт?"})})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(p.z,{variant:"outline",className:"w-full",asChild:!0,children:(0,a.jsx)(n.default,{href:"/auth/signin",children:"Войти"})})})]})]})]})]})})}},2422:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var a=t(5444),r=t(9300),l=t(223),i=t(2371),n=t(5522);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,...i},c)=>{let o=r?l.g7:"button";return(0,a.jsx)(o,{className:(0,n.cn)(d({variant:s,size:t,className:e})),ref:c,...i})});c.displayName="Button"},9827:function(e,s,t){"use strict";t.d(s,{Ol:function(){return n},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var a=t(5444),r=t(9300),l=t(5522);let i=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},4678:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var a=t(5444),r=t(9300),l=t(5522);let i=r.forwardRef(({className:e,type:s,...t},r)=>(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Input"},4635:function(e,s,t){"use strict";t.d(s,{_:function(){return c}});var a=t(5444),r=t(9300),l=t(4100),i=t(2371),n=t(5522);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(l.f,{ref:t,className:(0,n.cn)(d(),e),...s}));c.displayName=l.f.displayName},6863:function(e,s,t){"use strict";t.d(s,{g:function(){return i}});var a=t(5444),r=t(1946),l=t(5522);function i({className:e,size:s="md",text:t}){return(0,a.jsxs)("div",{className:(0,l.cn)("flex items-center justify-center gap-2",e),children:[(0,a.jsx)(r.Z,{className:(0,l.cn)("animate-spin",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[s])}),t&&(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:t})]})}},5522:function(e,s,t){"use strict";t.d(s,{cn:function(){return l}});var a=t(2191),r=t(3607);function l(...e){return(0,r.m6)((0,a.W)(e))}},2429:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2154).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8082:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2154).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1946:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2154).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1059:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2154).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5798:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2154).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},8510:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2154).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},4693:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2154).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4100:function(e,s,t){"use strict";t.d(s,{f:function(){return n}});var a=t(9300),r=t(7234),l=t(5444),i=a.forwardRef((e,s)=>(0,l.jsx)(r.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var n=i}},function(e){e.O(0,[558,162,936,386,156,744],function(){return e(e.s=3231)}),_N_E=e.O()}]);