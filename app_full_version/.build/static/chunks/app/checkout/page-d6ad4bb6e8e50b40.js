(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{5860:function(e,s,r){Promise.resolve().then(r.bind(r,4623))},4623:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return _}});var a=r(5444),l=r(9300),i=r(9047),t=r(1084),n=r(6629),c=r(8155),d=r(4693),o=r(9201),m=r(8576),x=r(2235),h=r(2422),u=r(9827),f=r(4678),p=r(4635),j=r(7012),g=r(753),N=r(966),v=r(5522);let b=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)(g.fC,{className:(0,v.cn)("grid gap-2",e),...s,ref:r}));b.displayName=g.fC.displayName;let y=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)(g.ck,{ref:r,className:(0,v.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,a.jsx)(g.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(N.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));y.displayName=g.ck.displayName;var w=r(6167),C=r(2232),k=r(4611);let Z=[{id:"1",name:"Sulwhasoo Essential Firming Cream",price:1400,quantity:1,volume:"15ml"},{id:"2",name:"O HUI Day Shield Perfect Sun Black SPF 50+",price:2900,quantity:2,volume:"50ml"}];function _(){(0,i.useRouter)();let[e,s]=(0,l.useState)(!1),[r,g]=(0,l.useState)(!1),[N,v]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",deliveryMethod:"courier",address:"",city:"",postal:"",deliveryNotes:"",paymentMethod:"card",termsAccepted:!1,promotionsAccepted:!1}),_=e=>new Intl.NumberFormat("ru-RU").format(e),F=Z.reduce((e,s)=>e+s.price*s.quantity,0),R="express"===N.deliveryMethod?800:F>3e3?0:300,z=e=>{let{name:s,value:r,type:a}=e.target;if("checkbox"===a){let{checked:r}=e.target;v(e=>({...e,[s]:r}))}else v(e=>({...e,[s]:r}))},A=async e=>{if(e.preventDefault(),!N.termsAccepted){k.ZP.error("Необходимо согласиться с условиями соглашения");return}s(!0),setTimeout(()=>{g(!0),s(!1),k.ZP.success("Заказ успешно оформлен!")},2e3)};return r?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-16",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(n.Z,{className:"w-8 h-8 text-green-600"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Заказ успешно оформлен!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Спасибо за ваш заказ. Мы отправили подтверждение на указанный email адрес."}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Номер заказа"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["#KHC-",Date.now().toString().slice(-6)]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.z,{size:"lg",asChild:!0,children:(0,a.jsx)(t.default,{href:"/orders",children:"Мои заказы"})}),(0,a.jsx)(h.z,{variant:"outline",asChild:!0,children:(0,a.jsx)(t.default,{href:"/catalog",children:"Продолжить покупки"})})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(h.z,{variant:"ghost",asChild:!0,className:"mb-4",children:(0,a.jsxs)(t.default,{href:"/cart",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Вернуться в корзину"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Оформление заказа"})]}),(0,a.jsx)("form",{onSubmit:A,children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(u.Zb,{children:[(0,a.jsx)(u.Ol,{children:(0,a.jsxs)(u.ll,{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 mr-2"}),"Контактная информация"]})}),(0,a.jsxs)(u.aY,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"firstName",children:"Имя *"}),(0,a.jsx)(f.I,{id:"firstName",name:"firstName",required:!0,value:N.firstName,onChange:z,placeholder:"Иван"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"lastName",children:"Фамилия *"}),(0,a.jsx)(f.I,{id:"lastName",name:"lastName",required:!0,value:N.lastName,onChange:z,placeholder:"Петров"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"email",children:"Email *"}),(0,a.jsx)(f.I,{id:"email",name:"email",type:"email",required:!0,value:N.email,onChange:z,placeholder:"ivan@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"phone",children:"Телефон *"}),(0,a.jsx)(f.I,{id:"phone",name:"phone",type:"tel",required:!0,value:N.phone,onChange:z,placeholder:"+7 (900) 123-45-67"})]})]})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsx)(u.Ol,{children:(0,a.jsxs)(u.ll,{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),"Способ доставки"]})}),(0,a.jsx)(u.aY,{children:(0,a.jsxs)(b,{value:N.deliveryMethod,onValueChange:e=>v(s=>({...s,deliveryMethod:e})),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[(0,a.jsx)(y,{value:"courier",id:"courier"}),(0,a.jsx)(p._,{htmlFor:"courier",className:"flex-1",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Курьерская доставка"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"1-2 дня, Москва"})]}),(0,a.jsx)("span",{className:"font-semibold",children:F>3e3?"Бесплатно":"300 ₽"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[(0,a.jsx)(y,{value:"pickup",id:"pickup"}),(0,a.jsx)(p._,{htmlFor:"pickup",className:"flex-1",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Самовывоз"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Пункты выдачи СДЭК"})]}),(0,a.jsx)("span",{className:"font-semibold",children:F>3e3?"Бесплатно":"от 200 ₽"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[(0,a.jsx)(y,{value:"express",id:"express"}),(0,a.jsx)(p._,{htmlFor:"express",className:"flex-1",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Экспресс-доставка"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"В день заказа, Москва"})]}),(0,a.jsx)("span",{className:"font-semibold",children:"800 ₽"})]})})]})]})})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsx)(u.Ol,{children:(0,a.jsxs)(u.ll,{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 mr-2"}),"Адрес доставки"]})}),(0,a.jsxs)(u.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"city",children:"Город *"}),(0,a.jsx)(f.I,{id:"city",name:"city",required:!0,value:N.city,onChange:z,placeholder:"Москва"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"postal",children:"Индекс"}),(0,a.jsx)(f.I,{id:"postal",name:"postal",value:N.postal,onChange:z,placeholder:"123456"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"address",children:"Адрес *"}),(0,a.jsx)(f.I,{id:"address",name:"address",required:!0,value:N.address,onChange:z,placeholder:"Улица, дом, квартира"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"deliveryNotes",children:"Комментарий к заказу"}),(0,a.jsx)(j.g,{id:"deliveryNotes",name:"deliveryNotes",value:N.deliveryNotes,onChange:z,placeholder:"Дополнительная информация для курьера...",rows:3})]})]})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsx)(u.Ol,{children:(0,a.jsxs)(u.ll,{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 mr-2"}),"Способ оплаты"]})}),(0,a.jsx)(u.aY,{children:(0,a.jsxs)(b,{value:N.paymentMethod,onValueChange:e=>v(s=>({...s,paymentMethod:e})),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[(0,a.jsx)(y,{value:"card",id:"card"}),(0,a.jsx)(p._,{htmlFor:"card",className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 mr-3 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Банковской картой"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Visa, MasterCard, МИР"})]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[(0,a.jsx)(y,{value:"cash",id:"cash"}),(0,a.jsx)(p._,{htmlFor:"cash",className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 mr-3 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"При получении"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Наличными или картой курьеру"})]})]})})]})]})})]}),(0,a.jsx)(u.Zb,{children:(0,a.jsxs)(u.aY,{className:"pt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(w.X,{id:"termsAccepted",name:"termsAccepted",checked:N.termsAccepted,onCheckedChange:e=>v(s=>({...s,termsAccepted:e})),className:"mt-1"}),(0,a.jsxs)(p._,{htmlFor:"termsAccepted",className:"text-sm",children:["Я соглашаюсь с"," ",(0,a.jsx)(t.default,{href:"/terms",className:"text-pink-600 hover:underline",children:"пользовательским соглашением"})," ","и даю согласие на обработку персональных данных *"]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(w.X,{id:"promotionsAccepted",name:"promotionsAccepted",checked:N.promotionsAccepted,onCheckedChange:e=>v(s=>({...s,promotionsAccepted:e})),className:"mt-1"}),(0,a.jsx)(p._,{htmlFor:"promotionsAccepted",className:"text-sm",children:"Я хочу получать информацию о новинках и специальных предложениях"})]})]})})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(u.Zb,{className:"sticky top-8",children:[(0,a.jsx)(u.Ol,{children:(0,a.jsx)(u.ll,{children:"Ваш заказ"})}),(0,a.jsxs)(u.aY,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-3",children:Z.map(e=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 line-clamp-2",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-500",children:[e.volume," \xd7 ",e.quantity]})]}),(0,a.jsxs)("span",{className:"font-semibold ml-4",children:[_(e.price*e.quantity)," ₽"]})]},e.id))}),(0,a.jsx)(C.Z,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Товары"}),(0,a.jsxs)("span",{children:[_(F)," ₽"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Доставка"}),(0,a.jsx)("span",{children:0===R?"Бесплатно":`${_(R)} ₽`})]})]}),(0,a.jsx)(C.Z,{}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,a.jsx)("span",{children:"Итого"}),(0,a.jsxs)("span",{children:[_(F+R)," ₽"]})]}),(0,a.jsx)(h.z,{type:"submit",size:"lg",className:"w-full",disabled:e,children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Оформляем заказ..."]}):"Оформить заказ"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Нажимая кнопку, вы подтверждаете заказ и соглашаетесь с условиями"})]})]})})]})})]})})}},2422:function(e,s,r){"use strict";r.d(s,{z:function(){return d}});var a=r(5444),l=r(9300),i=r(223),t=r(2371),n=r(5522);let c=(0,t.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef(({className:e,variant:s,size:r,asChild:l=!1,...t},d)=>{let o=l?i.g7:"button";return(0,a.jsx)(o,{className:(0,n.cn)(c({variant:s,size:r,className:e})),ref:d,...t})});d.displayName="Button"},9827:function(e,s,r){"use strict";r.d(s,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return t},aY:function(){return o},ll:function(){return c}});var a=r(5444),l=r(9300),i=r(5522);let t=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));t.displayName="Card";let n=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let c=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",l.forwardRef(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},6167:function(e,s,r){"use strict";r.d(s,{X:function(){return c}});var a=r(5444),l=r(9300),i=r(1831),t=r(7248),n=r(5522);let c=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)(i.fC,{ref:r,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,a.jsx)(i.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(t.Z,{className:"h-4 w-4"})})}));c.displayName=i.fC.displayName},4678:function(e,s,r){"use strict";r.d(s,{I:function(){return t}});var a=r(5444),l=r(9300),i=r(5522);let t=l.forwardRef(({className:e,type:s,...r},l)=>(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...r}));t.displayName="Input"},4635:function(e,s,r){"use strict";r.d(s,{_:function(){return d}});var a=r(5444),l=r(9300),i=r(4100),t=r(2371),n=r(5522);let c=(0,t.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)(i.f,{ref:r,className:(0,n.cn)(c(),e),...s}));d.displayName=i.f.displayName},2232:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var a=r(5444),l=r(9300),i=r(1033),t=r(5522);let n=l.forwardRef(({className:e,orientation:s="horizontal",decorative:r=!0,...l},n)=>(0,a.jsx)(i.f,{ref:n,decorative:r,orientation:s,className:(0,t.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...l}));n.displayName=i.f.displayName},7012:function(e,s,r){"use strict";r.d(s,{g:function(){return t}});var a=r(5444),l=r(9300),i=r(5522);let t=l.forwardRef(({className:e,...s},r)=>(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));t.displayName="Textarea"},5522:function(e,s,r){"use strict";r.d(s,{cn:function(){return i}});var a=r(2191),l=r(3607);function i(...e){return(0,l.m6)((0,a.W)(e))}}},function(e){e.O(0,[558,162,248,496,386,156,744],function(){return e(e.s=5860)}),_N_E=e.O()}]);